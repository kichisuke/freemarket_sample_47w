.search-main
  .search-container
    .search-container__content
      .search-items
        .search-items__result
          #{params[:keyword]}
          %span.search-items__result-text
          の検索結果
        .search-items__result-number
          #{@items.length}件表示
        .search-items__box
          -@items.each do |item|
            .search-items__box-item
              = link_to item_path(item), class: 'item-link' do
                .search-items-link__image-box
                  = image_tag item.item_images.first.url, alt: item.name, class: "search-items-link__image"
                .search-items-link__text
                  %h3.search-items-link__text--name
                    = item.name
                  .search-items-link__text--price
                    .search-items-price
                      ='¥' + number_with_delimiter(item.price)
    .search-container__side
      .search-extend-form
        .search-sort
          .form-group
            .select-wrap
              %i.fas.fa-chevron-down
              %select.select-default
                %option 並び替え
                %option 価格の安い順
                %option 価格の高い順
                %option 出品の古い順
                %option 出品の新しい順
                %option いいね！の多い順
        .search-dropdown-content
          %h3.visible-large 詳細検索
          = search_form_for(@q, url:search_items_path) do |f|
            .form-group
              %label
                = icon('fas','plus', class: 'fa-plus')
                %span キーワードを追加する
              = f.search_field :name_cont, class: "input-default", placeholder: "例）値下げ"
            .form-group
              %label
                = icon('fas','list', class: 'fa-list')
                %span カテゴリーを選択する
              .select-wrap#parent-category
                %i.fas.fa-chevron-down
                = f.collection_select :category_id_eq, @categories, :id, :name, { prompt: '---' }, autofocus: true, class: 'select-default', id: "parent-form"
              .select-wrap#child-category
              .select-wrap#grandchild-category
            .form-group
              %label
                = icon('fas','tag', class: 'fa-tag')
                %span ブランド名から探す
              = f.text_field :brand_id_eq, placeholder: '例）シャネル', class: 'input-default', id: 'brand_search'
              %ul.brand_search_result
              = f.hidden_field :brand_id_eq, class: "brand_search_result__id"
            .form-group
              %label
                = icon('fas','expand', class: 'fa-expand')
                %span サイズを指定する
              .select-wrap
                %i.fas.fa-chevron-down
                = f.select( :size_eq, Item.sizes.map{|k, v| [Item.sizes_i18n[k], v]}, {prompt: "すべて"}, { class: "select-default"} )
            .form-group.search-price
              %label
                = icon('fas','coins', class: 'fa-coins')
                %span 価格
              .select-wrap
                %i.fas.fa-chevron-down
                %select.select-default
                  %option 選択してください
                  %option 300~1000
                  %option 1000~5000
                  %option 5000~10000
                  %option 10000~30000
                  %option 30000~50000
                  %option 50000~
              .group-price
                = f.number_field :price_gteq, class: "price input-default min", placeholder: "¥ Min"
                %span ~
                = f.number_field :price_lteq, class: "price input-default max", placeholder: "¥ Max"
            .form-group
              %label
                = icon('fas','star', class: 'fa-star')
                %span 商品の状態
              %div
                .condition.check-box
                - @condition_list.each do |key, value|
                  .condition.check-box__choice
                    = f.check_box @condition, {id: "q_status_check_#{key.to_s}", name: 'q[condition_eq_any][]'}, key.to_s, nil
                    = f.label "status_check_#{key.to_s}", value
            .form-group
              %label
                = icon('fas','truck', class: 'fa-truck')
                %span 配送料の負担
              %div
                .shipment-fee.check-box
                - @delivery_charge_list.each do |key, value|
                  .shipment-fee.check-box__choice
                    = f.check_box @delivery_charge, {id: "q_obligation_fee_check_#{key.to_s}", name: 'q[delivery_charge_eq_any][]'}, key.to_s, nil
                    = f.label "obligation_fee_check_#{key.to_s}", value
            .form-group
              %label
                = icon('fas','shopping-cart', class: 'fa-shopping-cart')
                %span 販売状況
              %div
                .status.check-box
                - @sales_status_list.each do |key, value|
                  .status.check-box__choice
                    = f.check_box @sales_status, {id: "q_purchase_status_check_#{key.to_s}", name: 'q[sales_status_eq_any][]'}, key.to_s, nil
                    = f.label "purchase_status_check_#{key.to_s}", value
            .search-extend-btn
              %input.btn-default.btn-gray(type="reset" value="クリア")
              = f.submit ("完了") , class: "btn-default btn-red"